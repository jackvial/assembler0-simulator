<mujoco model="low_cost_robot">
    <compiler angle="radian" meshdir="assets" texturedir="assets" autolimits="true"/>
    <!-- The timestep has a big influence on the contacts stability -->
    <option cone="elliptic" impratio="10" timestep="0.001"/>
    <asset>
        <mesh file="base_link.stl" scale="0.001 0.001 0.001"/>
        <mesh file="first-bracket-motor_1.stl" scale="0.001 0.001 0.001"/>
        <mesh file="shoulder-to-elbow-motor_v1_1.stl" scale="0.001 0.001 0.001"/>
        <mesh file="elbow-to-wrist-motor-reference_v1_1.stl" scale="0.001 0.001 0.001"/>
        <mesh file="elbow_to_wrist_with_motor.stl" scale="0.001 0.001 0.001"/>
        <mesh file="screwdriver_servo_holder_with_camera_mount_v1.2.stl" scale="0.001 0.001 0.001"/>
        <mesh file="XL330_motor.stl" scale="0.001 0.001 0.001"/>
        <mesh file="koch_screwdriver_chuck.stl" scale="0.001 0.001 0.001"/>
        <mesh file="screwdriver_bit.stl" scale="0.001 0.001 0.001"/>
    </asset>
    <default>
        <default class="low_cost_robot">
            <general biastype="affine"/>
            <joint axis="0 1 0"/>
            <default class="joint1">
                <joint axis="0 0 1" range="-3.14158 3.14158" damping="5.0"/>
                <position ctrlrange="-3.14158 3.14158" kp="50"/>
            </default>
            <default class="joint2">
                <joint axis="1 0 0" range="-3.14158 3.14158" damping="5.0"/>
                <position ctrlrange="-3.14158 3.14158" kp="20"/>
            </default>
            <default class="joint3">
                <joint axis="1 0 0" range="-3.14158 3.14158" damping="5.0"/>
                <position ctrlrange="-3.14158 3.14158" kp="20"/>
            </default>
            <default class="joint4">
                <joint axis="1 0 0" range="-3.14158 3.14158" damping="3.0"/>
                <position ctrlrange="-3.14158 3.14158" kp="15"/>
            </default>
            <default class="joint5">
                <joint axis="0 -1 0" range="-3.14158 3.14158" damping="3.0"/>
                <position ctrlrange="-3.14158 3.14158" kp="15"/>
            </default>
            <default class="joint6">
                <joint axis="0 0 1" limited="false" damping="1.0"/>  <!-- Unlimited continuous rotation around Z-axis -->
                <position kp="10"/>
            </default>
        </default>
    </default>
    <worldbody>
        <body name="base_link" pos="0 0 0">
            <geom type="mesh" name="base_link" mesh="base_link" rgba="0.1 0.1 0.1 1"/>
            <body name="joint1" pos="0 0.07 0.0">
                <joint name="joint1" axis="0 0 1" pos="0 0 0" class="joint1"/>
                <geom type="mesh" name="joint1" pos="0 -0.07 0" mesh="first-bracket-motor_1" rgba="0.1 0.1 0.1 1"/>
                <body name="joint2" pos="0 0 0.055">
                    <joint name="joint2" axis="1 0 0" class="joint2"/>
                    <geom type="mesh" pos="0 -0.07 -0.055" name="joint2" mesh="shoulder-to-elbow-motor_v1_1" rgba="0.1 0.1 0.1 1"/>
                    <body name="joint3" pos="0.0 0.0135 0.108">
                        <joint name="joint3" axis="1 0 0" class="joint3"/>
                        <geom pos="-0.0138 -0.0075 -0.0141" type="mesh" name="joint3" mesh="elbow_to_wrist_with_motor" rgba="0.1 0.1 0.1 1"/>
                        <body name="joint4" pos="0 0.091 0.0035">
                            <joint name="joint4" class="joint4"/>
                            <geom pos="0 -0.084 -0.163" type="mesh" name="joint4" mesh="elbow-to-wrist-motor-reference_v1_1" rgba="0.1 0.1 0.1 1"/>
                            <body name="joint5" pos="0 0.04 0">
                                <joint name="joint5" class="joint5"/>
                                <geom pos="-0.02 0.024 0" euler="0 0 1.5708"  type="mesh" name="joint5-servo-holder" mesh="screwdriver_servo_holder_with_camera_mount_v1.2" rgba="0.1 0.1 0.1 1"/>
                                <geom pos="0.007 0.018 -0.007" euler="0 -3.14159 1.5708" type="mesh" name="joint5-motor" mesh="XL330_motor" rgba="0.1 0.1 0.1 1"/>
                                
                                <body name="joint6" pos="0.007 0.018 -0.013">
                                    <joint name="joint6" class="joint6"/>
                                    <geom pos="0 0 0" euler="-3.14159 0 0" type="mesh" name="joint6-chuck" mesh="koch_screwdriver_chuck" rgba="0.1 0.1 0.1 1"/>
                                    <geom pos="0 0 -0.01" euler="-3.14159 0 0" type="mesh" name="joint6-bit" mesh="screwdriver_bit" rgba="0.6 0.6 0.6 1"/>
                                </body>
                            </body>
                        </body>
                    </body>
                </body>
            </body>
        </body>
    </worldbody>
    <actuator>
        <position class="joint1" name="joint1" joint="joint1"/>
        <position class="joint2" name="joint2" joint="joint2"/>
        <position class="joint3" name="joint3" joint="joint3"/>
        <position class="joint4" name="joint4" joint="joint4"/>
        <position class="joint5" name="joint5" joint="joint5"/>
        <position class="joint6" name="joint6" joint="joint6"/>
    </actuator>
</mujoco>
